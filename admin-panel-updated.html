<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Адмін-панель - Boutique Apartments Kyiv</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/admin-enhanced.css?v=20250602">
    <style>
        /* Дополнительные стили для улучшенной навигации */
        .section-badge {
            background-color: #1a2456;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .admin-container {
            display: block;
            min-height: 100vh;
        }
        
        .admin-main {
            width: 100%;
            padding: 30px;
            box-sizing: border-box;
        }
        
        .media-preview {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
            border-radius: 4px;
        }
        
        .apartment-selector {
            margin-bottom: 20px;
        }
        
        .apartment-selector button {
            padding: 10px 15px;
            margin-right: 10px;
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .apartment-selector button.active {
            background-color: #1a2456;
            color: white;
        }
        
        .apartment-content {
            display: none;
        }
        
        .apartment-content.active {
            display: block;
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .admin-logout {
            padding: 10px 15px;
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
        }
        
        .admin-logout i {
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <!-- Форма входа -->
    <div id="admin-login-form" class="admin-login-form">
        <h1>Вхід в адмін-панель</h1>
        <form id="login-form">
            <div class="admin-form-group">
                <label for="admin-username">Ім'я користувача:</label>
                <input type="text" id="admin-username" required>
            </div>
            <div class="admin-form-group">
                <div class="password-container">
                    <label for="admin-password">Пароль:</label>
                    <input type="password" id="admin-password" required>
                    <button type="button" id="toggle-password" class="toggle-password">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
            </div>
            <button type="submit" class="admin-button primary">
                <i class="fas fa-sign-in-alt"></i> Увійти
            </button>
        </form>
    </div>

    <!-- Основной контент админ-панели -->
    <div id="admin-content" class="admin-container" style="display: none;">
        <!-- Основной контент -->
        <div class="admin-main">
            <div class="admin-header">
                <h1>Адмін-панель Boutique Apartments Kyiv</h1>
                <button id="admin-logout" class="admin-logout">
                    <i class="fas fa-sign-out-alt"></i> Вийти
                </button>
            </div>

            <!-- Языковые вкладки -->
            <div class="language-selector">
                <div class="language-tabs">
                    <button class="lang-tab active" data-lang="uk">Українська</button>
                    <button class="lang-tab" data-lang="en">English</button>
                </div>
            </div>

            <!-- Секция: Головна інформація -->
            <div id="main-section" class="admin-section active-section">
                <div class="section-header">
                    <h2>Головна інформація <span class="section-badge">Головна</span></h2>
                </div>
                
                <div class="text-editor">
                    <div class="editor-section">
                        <h3>Заголовок та слоган</h3>
                        <div class="form-group">
                            <label for="building-name">Назва будинку:</label>
                            <input type="text" id="building-name" data-translate value="BOUTIQUE APARTMENTS KYIV">
                        </div>
                        <div class="form-group">
                            <label for="building-slogan">Слоган:</label>
                            <input type="text" id="building-slogan" data-translate value="Ваш краєвид, ваше натхнення">
                        </div>
                        <div class="form-group">
                            <label for="building-address">Адреса:</label>
                            <input type="text" id="building-address" data-translate value="вулиця Ломаківська / Мічуріна, 55, Печерський район, м. Київ">
                        </div>
                        <div class="form-group">
                            <label for="building-status">Статус:</label>
                            <input type="text" id="building-status" data-translate value="Здано в експлуатацію лютий 2025р.">
                        </div>
                    </div>
                    
                    <div class="editor-section">
                        <h3>Опис проекту</h3>
                        <div class="form-group">
                            <label for="about-text-1">Перший абзац:</label>
                            <textarea id="about-text-1" data-translate rows="4">6 приватних резиденцій на Печерських схилах — камерна колекція житла, де унікальність панорами поєднується з внутрішнім спокоєм. Простір, де кожне вікно — це живе полотно з видами на Києво-Печерську Лавру, куполи храмів та столичну зелень Ботанічного саду.</textarea>
                        </div>
                        <div class="form-group">
                            <label for="about-text-2">Другий абзац:</label>
                            <textarea id="about-text-2" data-translate rows="4">Це локація не для всіх. Лише для тих, хто звик жити на своїх умовах, цінує тишу за закритими дверима і вміє бачити суть у деталях. Тут минуле перетікає в сучасність: історичний настрій району — у діалозі з бездоганним рівнем комфорту та приватності.</textarea>
                        </div>
                        <div class="form-group">
                            <label for="about-text-3">Третій абзац:</label>
                            <textarea id="about-text-3" data-translate rows="4">Кожен апартамент — з повним пакетом документів на право власності. Житло, що належить лише вам. Без компромісів. Без шуму. Без зайвих очей.</textarea>
                        </div>
                    </div>
                    
                    <div class="editor-section">
                        <h3>Фото фасаду</h3>
                        <div class="media-items">
                            <div class="media-item">
                                <img src="assets/img/facade-1.jpg" alt="Фасад 1" class="media-preview">
                                <div class="media-actions">
                                    <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                    <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                </div>
                            </div>
                            <div class="media-item">
                                <img src="assets/img/facade-2.jpg" alt="Фасад 2" class="media-preview">
                                <div class="media-actions">
                                    <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                    <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                </div>
                            </div>
                            <div class="media-item">
                                <img src="assets/img/facade-3.jpg" alt="Фасад 3" class="media-preview">
                                <div class="media-actions">
                                    <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                    <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                </div>
                            </div>
                            <div class="add-new">
                                <label for="add-facade-photo" class="add-placeholder">
                                    <i class="fas fa-plus-circle"></i>
                                    <span>Додати фото</span>
                                    <input type="file" id="add-facade-photo" style="display: none;" accept="image/*">
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="section-navigation">
                    <div></div>
                    <button class="nav-btn next" data-section="lobby-section">
                        Перейти до Лобі <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Секция: Лобі -->
            <div id="lobby-section" class="admin-section">
                <div class="section-header">
                    <h2>Лобі <span class="section-badge">Фото</span></h2>
                </div>
                
                <div class="text-editor">
                    <div class="editor-section">
                        <h3>Заголовок розділу</h3>
                        <div class="form-group">
                            <label for="lobby-title">Заголовок:</label>
                            <input type="text" id="lobby-title" data-translate value="Лобі">
                        </div>
                    </div>
                    
                    <div class="editor-section">
                        <h3>Фотографії лобі</h3>
                        <div class="media-items">
                            <div class="media-item">
                                <img src="assets/img/lobby-1.jpg" alt="Лобі 1" class="media-preview">
                                <div class="media-actions">
                                    <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                    <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                </div>
                            </div>
                            <div class="media-item">
                                <img src="assets/img/lobby-2.jpg" alt="Лобі 2" class="media-preview">
                                <div class="media-actions">
                                    <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                    <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                </div>
                            </div>
                            <div class="media-item">
                                <img src="assets/img/lobby-3.jpg" alt="Лобі 3" class="media-preview">
                                <div class="media-actions">
                                    <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                    <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                </div>
                            </div>
                            <div class="media-item">
                                <img src="assets/img/lobby-4.jpg" alt="Лобі 4" class="media-preview">
                                <div class="media-actions">
                                    <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                    <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                </div>
                            </div>
                            <div class="media-item">
                                <img src="assets/img/lobby-5.jpg" alt="Лобі 5" class="media-preview">
                                <div class="media-actions">
                                    <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                    <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                </div>
                            </div>
                            <div class="media-item">
                                <img src="assets/img/lobby-6.jpg" alt="Лобі 6" class="media-preview">
                                <div class="media-actions">
                                    <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                    <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                </div>
                            </div>
                            <div class="media-item">
                                <img src="assets/img/lobby-7.jpg" alt="Лобі 7" class="media-preview">
                                <div class="media-actions">
                                    <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                    <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                </div>
                            </div>
                            <div class="media-item">
                                <img src="assets/img/lobby-8.jpg" alt="Лобі 8" class="media-preview">
                                <div class="media-actions">
                                    <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                    <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                </div>
                            </div>
                            <div class="add-new">
                                <label for="add-lobby-photo" class="add-placeholder">
                                    <i class="fas fa-plus-circle"></i>
                                    <span>Додати фото</span>
                                    <input type="file" id="add-lobby-photo" style="display: none;" accept="image/*">
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="section-navigation">
                    <button class="nav-btn prev" data-section="main-section">
                        <i class="fas fa-arrow-left"></i> Назад до Головної
                    </button>
                    <button class="nav-btn next" data-section="video-section">
                        Перейти до Відео <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Секция: Відео -->
            <div id="video-section" class="admin-section">
                <div class="section-header">
                    <h2>Відео <span class="section-badge">Медіа</span></h2>
                </div>
                
                <div class="text-editor">
                    <div class="editor-section">
                        <h3>Заголовок розділу</h3>
                        <div class="form-group">
                            <label for="video-title">Заголовок:</label>
                            <input type="text" id="video-title" data-translate value="Відео">
                        </div>
                    </div>
                    
                    <div class="editor-section">
                        <h3>Відеоматеріали</h3>
                        <div class="media-items">
                            <div class="media-item video-item">
                                <video src="assets/video/main-video.mp4" controls class="media-preview"></video>
                                <div class="media-actions">
                                    <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                    <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                </div>
                            </div>
                            <div class="add-new">
                                <label for="add-video" class="add-placeholder">
                                    <i class="fas fa-plus-circle"></i>
                                    <span>Додати відео</span>
                                    <input type="file" id="add-video" style="display: none;" accept="video/*">
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="section-navigation">
                    <button class="nav-btn prev" data-section="lobby-section">
                        <i class="fas fa-arrow-left"></i> Назад до Лобі
                    </button>
                    <button class="nav-btn next" data-section="tech-section">
                        Перейти до Технологій <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Секция: Технології -->
            <div id="tech-section" class="admin-section">
                <div class="section-header">
                    <h2>Технології <span class="section-badge">Текст</span></h2>
                </div>
                
                <div class="text-editor">
                    <div class="editor-section">
                        <h3>Заголовок та підзаголовок</h3>
                        <div class="form-group">
                            <label for="tech-title">Заголовок:</label>
                            <input type="text" id="tech-title" data-translate value="ТЕХНОЛОГІЇ">
                        </div>
                        <div class="form-group">
                            <label for="tech-subtitle">Підзаголовок:</label>
                            <input type="text" id="tech-subtitle" data-translate value="Преміум-інженерія, створена для незалежності">
                        </div>
                    </div>
                    
                    <div class="editor-section">
                        <h3>Технологічні особливості</h3>
                        <div id="tech-items">
                            <div class="tech-item">
                                <div class="form-group">
                                    <label for="tech-name-1">Назва:</label>
                                    <input type="text" id="tech-name-1" data-translate value="Індивідуальні теплові насоси">
                                </div>
                                <div class="form-group">
                                    <label for="tech-desc-1">Опис:</label>
                                    <textarea id="tech-desc-1" data-translate rows="3">Автономність кожної резиденції. Енергоефективне опалення, охолодження, вентиляція та гаряча вода — незалежно від центральних систем.</textarea>
                                </div>
                            </div>
                            <div class="tech-item">
                                <div class="form-group">
                                    <label for="tech-name-2">Назва:</label>
                                    <input type="text" id="tech-name-2" data-translate value="Централізована система Ecosoft">
                                </div>
                                <div class="form-group">
                                    <label for="tech-desc-2">Опис:</label>
                                    <textarea id="tech-desc-2" data-translate rows="3">Фільтрація та водопідготовка преміум-рівня — гарантована якість питної води у кожному крані.</textarea>
                                </div>
                            </div>
                            <div class="tech-item">
                                <div class="form-group">
                                    <label for="tech-name-3">Назва:</label>
                                    <input type="text" id="tech-name-3" data-translate value="Інтелектуальна диспетчеризація">
                                </div>
                                <div class="form-group">
                                    <label for="tech-desc-3">Опис:</label>
                                    <textarea id="tech-desc-3" data-translate rows="3">Керуйте всіма системами в реальному часі — з однієї панелі або зі смартфона.</textarea>
                                </div>
                            </div>
                            <div class="tech-item">
                                <div class="form-group">
                                    <label for="tech-name-4">Назва:</label>
                                    <input type="text" id="tech-name-4" data-translate value="Ліфт Schindler">
                                </div>
                                <div class="form-group">
                                    <label for="tech-desc-4">Опис:</label>
                                    <textarea id="tech-desc-4" data-translate rows="3">Плавний хід і прямий доступ до підземного паркінгу — комфорт без компромісів.</textarea>
                                </div>
                            </div>
                        </div>
                        <button id="add-tech" class="admin-button secondary">
                            <i class="fas fa-plus"></i> Додати технологію
                        </button>
                    </div>
                </div>
                
                <div class="section-navigation">
                    <button class="nav-btn prev" data-section="video-section">
                        <i class="fas fa-arrow-left"></i> Назад до Відео
                    </button>
                    <button class="nav-btn next" data-section="materials-section">
                        Перейти до Матеріалів <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Секция: Матеріали та конструктив -->
            <div id="materials-section" class="admin-section">
                <div class="section-header">
                    <h2>Матеріали та конструктив <span class="section-badge">Текст</span></h2>
                </div>
                
                <div class="text-editor">
                    <div class="editor-section">
                        <h3>Заголовок розділу</h3>
                        <div class="form-group">
                            <label for="materials-title">Заголовок:</label>
                            <input type="text" id="materials-title" data-translate value="Матеріали та конструктив">
                        </div>
                    </div>
                    
                    <div class="editor-section">
                        <h3>Матеріали та конструктивні особливості</h3>
                        <div id="materials-items">
                            <div class="tech-item">
                                <div class="form-group">
                                    <label for="material-name-1">Назва:</label>
                                    <input type="text" id="material-name-1" data-translate value="Монолітна конструкція">
                                </div>
                                <div class="form-group">
                                    <label for="material-desc-1">Опис:</label>
                                    <textarea id="material-desc-1" data-translate rows="3">Несучі елементи з армованого залізобетону — міцність, довговічність, надійність.</textarea>
                                </div>
                            </div>
                            <div class="tech-item">
                                <div class="form-group">
                                    <label for="material-name-2">Назва:</label>
                                    <input type="text" id="material-name-2" data-translate value="Міжколонні стіни з Porotherm">
                                </div>
                                <div class="form-group">
                                    <label for="material-desc-2">Опис:</label>
                                    <textarea id="material-desc-2" data-translate rows="3">Керамічна цегла Porotherm Wienerberger — природна термоізоляція, екологічність, тиша.</textarea>
                                </div>
                            </div>
                            <div class="tech-item">
                                <div class="form-group">
                                    <label for="material-name-3">Назва:</label>
                                    <input type="text" id="material-name-3" data-translate value="Фасад — великоформатний керамограніт">
                                </div>
                                <div class="form-group">
                                    <label for="material-desc-3">Опис:</label>
                                    <textarea id="material-desc-3" data-translate rows="3">Вентильована система з базальтовим утепленням та алюмінієвим кашуванням — баланс естетики та ефективності.</textarea>
                                </div>
                            </div>
                            <div class="tech-item">
                                <div class="form-group">
                                    <label for="material-name-4">Назва:</label>
                                    <input type="text" id="material-name-4" data-translate value="Вікна SCHÜCO AWS 75Si+">
                                </div>
                                <div class="form-group">
                                    <label for="material-desc-4">Опис:</label>
                                    <textarea id="material-desc-4" data-translate rows="3">Алюмінієвий профіль, двокамерний склопакет 50 мм SunGuard — максимум світла, мінімум тепловтрат.</textarea>
                                </div>
                            </div>
                        </div>
                        <button id="add-material" class="admin-button secondary">
                            <i class="fas fa-plus"></i> Додати матеріал
                        </button>
                    </div>
                </div>
                
                <div class="section-navigation">
                    <button class="nav-btn prev" data-section="tech-section">
                        <i class="fas fa-arrow-left"></i> Назад до Технологій
                    </button>
                    <button class="nav-btn next" data-section="apartments-section">
                        Перейти до Квартир <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Секция: Квартири -->
            <div id="apartments-section" class="admin-section">
                <div class="section-header">
                    <h2>Квартири <span class="section-badge">Квартири</span></h2>
                </div>
                
                <div class="text-editor">
                    <div class="editor-section">
                        <h3>Заголовок розділу</h3>
                        <div class="form-group">
                            <label for="apartments-title">Заголовок:</label>
                            <input type="text" id="apartments-title" data-translate value="Квартири">
                        </div>
                    </div>
                    
                    <div class="editor-section">
                        <h3>Список квартир</h3>
                        <div id="apartment-list">
                            <div class="apartment-item">
                                <div class="apartment-details">
                                    <input type="checkbox" id="apartment1" checked>
                                    <label for="apartment1">Резиденція №1 (1-й поверх)</label>
                                </div>
                                <div class="apartment-status">
                                    <label for="status1">Статус публікації:</label>
                                    <select id="status1" class="status-select">
                                        <option value="available">Доступна</option>
                                        <option value="reserved">Зарезервована</option>
                                        <option value="sold">Продана</option>
                                    </select>
                                </div>
                            </div>
                            <div class="apartment-item">
                                <div class="apartment-details">
                                    <input type="checkbox" id="apartment2" checked>
                                    <label for="apartment2">Резиденція №2 (2-й поверх)</label>
                                </div>
                                <div class="apartment-status">
                                    <label for="status2">Статус публікації:</label>
                                    <select id="status2" class="status-select">
                                        <option value="available">Доступна</option>
                                        <option value="reserved">Зарезервована</option>
                                        <option value="sold">Продана</option>
                                    </select>
                                </div>
                            </div>
                            <div class="apartment-item">
                                <div class="apartment-details">
                                    <input type="checkbox" id="apartment3" checked>
                                    <label for="apartment3">Резиденція №3 (3-й поверх)</label>
                                </div>
                                <div class="apartment-status">
                                    <label for="status3">Статус публікації:</label>
                                    <select id="status3" class="status-select">
                                        <option value="available">Доступна</option>
                                        <option value="reserved">Зарезервована</option>
                                        <option value="sold">Продана</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="editor-section">
                        <h3>Деталі квартири</h3>
                        <div class="apartment-selector">
                            <button class="apt-select-btn active" data-apt="1">Резиденція №1</button>
                            <button class="apt-select-btn" data-apt="2">Резиденція №2</button>
                            <button class="apt-select-btn" data-apt="3">Резиденція №3</button>
                        </div>
                        
                        <!-- Резиденція №1 -->
                        <div class="apartment-content apt-1 active">
                            <div class="form-group">
                                <label for="apt1-title">Заголовок:</label>
                                <input type="text" id="apt1-title" data-translate value="РЕЗИДЕНЦІЯ №1 (1-й поверх)">
                            </div>
                            <div class="form-group">
                                <label for="apt1-status">Статус:</label>
                                <input type="text" id="apt1-status" data-translate value="Здано в експлуатацію лютий 2025р.">
                            </div>
                            <div class="form-group">
                                <label for="apt1-area-legal">Юридична площа:</label>
                                <input type="text" id="apt1-area-legal" data-translate value="211,7 м²">
                            </div>
                            <div class="form-group">
                                <label for="apt1-area-actual">Фактична площа:</label>
                                <input type="text" id="apt1-area-actual" data-translate value="189,5 м² внутрішня площа + 74 м² тераса з зеленою зоною">
                            </div>
                            <div class="form-group">
                                <label for="apt1-view">Вид:</label>
                                <input type="text" id="apt1-view" data-translate value="Києво-Печерська Лавра, Батьківщина-Мати">
                            </div>
                            <div class="form-group">
                                <label for="apt1-price">Вартість:</label>
                                <input type="text" id="apt1-price" data-translate value="1 100 000 $">
                            </div>
                            <div class="form-group">
                                <label for="apt1-included">Включено:</label>
                                <input type="text" id="apt1-included" data-translate value="2 паркомісця + кладова">
                            </div>
                            
                            <h4>План квартири і фото</h4>
                            <div class="media-items">
                                <div class="media-item">
                                    <img src="assets/img/apartment1-plan.jpg" alt="План квартири 1" class="media-preview">
                                    <div class="media-actions">
                                        <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                        <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                    </div>
                                    <div class="form-group">
                                        <label for="apt1-plan-caption">Підпис:</label>
                                        <input type="text" id="apt1-plan-caption" data-translate value="План квартири">
                                    </div>
                                </div>
                                <div class="media-item">
                                    <img src="assets/img/apartment1-photo1.jpg" alt="Фото квартири 1-1" class="media-preview">
                                    <div class="media-actions">
                                        <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                        <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                    </div>
                                    <div class="form-group">
                                        <label for="apt1-photo1-caption">Підпис:</label>
                                        <input type="text" id="apt1-photo1-caption" data-translate value="Ліфтовий хол">
                                    </div>
                                </div>
                                <div class="media-item">
                                    <img src="assets/img/apartment1-photo2.jpg" alt="Фото квартири 1-2" class="media-preview">
                                    <div class="media-actions">
                                        <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                        <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                    </div>
                                    <div class="form-group">
                                        <label for="apt1-photo2-caption">Підпис:</label>
                                        <input type="text" id="apt1-photo2-caption" data-translate value="Вітальня">
                                    </div>
                                </div>
                                <div class="add-new">
                                    <label for="add-apt1-photo" class="add-placeholder">
                                        <i class="fas fa-plus-circle"></i>
                                        <span>Додати фото</span>
                                        <input type="file" id="add-apt1-photo" style="display: none;" accept="image/*">
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Резиденція №2 -->
                        <div class="apartment-content apt-2">
                            <div class="form-group">
                                <label for="apt2-title">Заголовок:</label>
                                <input type="text" id="apt2-title" data-translate value="РЕЗИДЕНЦІЯ №2 (2-й поверх)">
                            </div>
                            <div class="form-group">
                                <label for="apt2-status">Статус:</label>
                                <input type="text" id="apt2-status" data-translate value="Здано в експлуатацію лютий 2025р.">
                            </div>
                            <div class="form-group">
                                <label for="apt2-area-legal">Юридична площа:</label>
                                <input type="text" id="apt2-area-legal" data-translate value="198,3 м²">
                            </div>
                            <div class="form-group">
                                <label for="apt2-area-actual">Фактична площа:</label>
                                <input type="text" id="apt2-area-actual" data-translate value="182,5 м² внутрішня площа + 15,8 м² балкон">
                            </div>
                            <div class="form-group">
                                <label for="apt2-view">Вид:</label>
                                <input type="text" id="apt2-view" data-translate value="Києво-Печерська Лавра, Ботанічний сад">
                            </div>
                            <div class="form-group">
                                <label for="apt2-price">Вартість:</label>
                                <input type="text" id="apt2-price" data-translate value="980 000 $">
                            </div>
                            <div class="form-group">
                                <label for="apt2-included">Включено:</label>
                                <input type="text" id="apt2-included" data-translate value="1 паркомісце + кладова">
                            </div>
                            
                            <h4>План квартири і фото</h4>
                            <div class="media-items">
                                <div class="media-item">
                                    <img src="assets/img/apartment2-plan.jpg" alt="План квартири 2" class="media-preview">
                                    <div class="media-actions">
                                        <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                        <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                    </div>
                                    <div class="form-group">
                                        <label for="apt2-plan-caption">Підпис:</label>
                                        <input type="text" id="apt2-plan-caption" data-translate value="План квартири">
                                    </div>
                                </div>
                                <div class="media-item">
                                    <img src="assets/img/apartment2-photo1.jpg" alt="Фото квартири 2-1" class="media-preview">
                                    <div class="media-actions">
                                        <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                        <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                    </div>
                                    <div class="form-group">
                                        <label for="apt2-photo1-caption">Підпис:</label>
                                        <input type="text" id="apt2-photo1-caption" data-translate value="Вітальня">
                                    </div>
                                </div>
                                <div class="add-new">
                                    <label for="add-apt2-photo" class="add-placeholder">
                                        <i class="fas fa-plus-circle"></i>
                                        <span>Додати фото</span>
                                        <input type="file" id="add-apt2-photo" style="display: none;" accept="image/*">
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Резиденція №3 -->
                        <div class="apartment-content apt-3">
                            <div class="form-group">
                                <label for="apt3-title">Заголовок:</label>
                                <input type="text" id="apt3-title" data-translate value="РЕЗИДЕНЦІЯ №3 (3-й поверх)">
                            </div>
                            <div class="form-group">
                                <label for="apt3-status">Статус:</label>
                                <input type="text" id="apt3-status" data-translate value="Здано в експлуатацію лютий 2025р.">
                            </div>
                            <div class="form-group">
                                <label for="apt3-area-legal">Юридична площа:</label>
                                <input type="text" id="apt3-area-legal" data-translate value="201,5 м²">
                            </div>
                            <div class="form-group">
                                <label for="apt3-area-actual">Фактична площа:</label>
                                <input type="text" id="apt3-area-actual" data-translate value="185,7 м² внутрішня площа + 15,8 м² балкон">
                            </div>
                            <div class="form-group">
                                <label for="apt3-view">Вид:</label>
                                <input type="text" id="apt3-view" data-translate value="Києво-Печерська Лавра, Ботанічний сад">
                            </div>
                            <div class="form-group">
                                <label for="apt3-price">Вартість:</label>
                                <input type="text" id="apt3-price" data-translate value="1 050 000 $">
                            </div>
                            <div class="form-group">
                                <label for="apt3-included">Включено:</label>
                                <input type="text" id="apt3-included" data-translate value="2 паркомісця + кладова">
                            </div>
                            
                            <h4>План квартири і фото</h4>
                            <div class="media-items">
                                <div class="media-item">
                                    <img src="assets/img/apartment3-plan.jpg" alt="План квартири 3" class="media-preview">
                                    <div class="media-actions">
                                        <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                        <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                    </div>
                                    <div class="form-group">
                                        <label for="apt3-plan-caption">Підпис:</label>
                                        <input type="text" id="apt3-plan-caption" data-translate value="План квартири">
                                    </div>
                                </div>
                                <div class="media-item">
                                    <img src="assets/img/apartment3-photo1.jpg" alt="Фото квартири 3-1" class="media-preview">
                                    <div class="media-actions">
                                        <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                                        <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                                    </div>
                                    <div class="form-group">
                                        <label for="apt3-photo1-caption">Підпис:</label>
                                        <input type="text" id="apt3-photo1-caption" data-translate value="Вітальня">
                                    </div>
                                </div>
                                <div class="add-new">
                                    <label for="add-apt3-photo" class="add-placeholder">
                                        <i class="fas fa-plus-circle"></i>
                                        <span>Додати фото</span>
                                        <input type="file" id="add-apt3-photo" style="display: none;" accept="image/*">
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="section-navigation">
                    <button class="nav-btn prev" data-section="materials-section">
                        <i class="fas fa-arrow-left"></i> Назад до Матеріалів
                    </button>
                    <button class="nav-btn next" data-section="location-section">
                        Перейти до Розташування <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Секция: Розташування -->
            <div id="location-section" class="admin-section">
                <div class="section-header">
                    <h2>Розташування <span class="section-badge">Карта</span></h2>
                </div>
                
                <div class="text-editor">
                    <div class="editor-section">
                        <h3>Заголовок розділу</h3>
                        <div class="form-group">
                            <label for="location-title">Заголовок:</label>
                            <input type="text" id="location-title" data-translate value="Розташування">
                        </div>
                    </div>
                    
                    <div class="editor-section">
                        <h3>Опис розташування</h3>
                        <div class="form-group">
                            <label for="location-text">Текст:</label>
                            <textarea id="location-text" data-translate rows="4">Печерський район - історичний центр Києва з видами на Києво-Печерську Лавру та Ботанічний сад. Ідеальне розташування для тих, хто цінує приватність та комфорт.</textarea>
                        </div>
                    </div>
                    
                    <div class="editor-section">
                        <h3>Карта</h3>
                        <div class="form-group">
                            <label for="map-address">Адреса для карти:</label>
                            <input type="text" id="map-address" value="Ломаковская ул., 55, Киев, 02000">
                        </div>
                        <div class="form-group">
                            <label for="map-embed">Код вбудованої карти:</label>
                            <textarea id="map-embed" rows="4" style="font-family: monospace; font-size: 12px;">&lt;iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2541.0687554095437!2d30.55!3d50.44!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNTDCsDI2JzI0LjAiTiAzMMKwMzMnMDAuMCJF!5e0!3m2!1sru!2sua!4v1622547849612!5m2!1sru!2sua" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy"&gt;&lt;/iframe&gt;</textarea>
                        </div>
                        <div class="form-group">
                            <label>Попередній перегляд карти:</label>
                            <div style="border: 1px solid #ddd; padding: 10px; background-color: #f9f9f9;">
                                <img src="assets/img/map-preview.jpg" alt="Карта" style="width: 100%; max-height: 300px; object-fit: cover;">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="section-navigation">
                    <button class="nav-btn prev" data-section="apartments-section">
                        <i class="fas fa-arrow-left"></i> Назад до Квартир
                    </button>
                    <button class="nav-btn next" data-section="contacts-section">
                        Перейти до Контактів <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Секция: Контакти -->
            <div id="contacts-section" class="admin-section">
                <div class="section-header">
                    <h2>Контакти <span class="section-badge">Контакти</span></h2>
                </div>
                
                <div class="text-editor">
                    <div class="editor-section">
                        <h3>Заголовок розділу</h3>
                        <div class="form-group">
                            <label for="contacts-title">Заголовок:</label>
                            <input type="text" id="contacts-title" data-translate value="Контакти">
                        </div>
                    </div>
                    
                    <div class="editor-section">
                        <h3>Контактна інформація</h3>
                        <div class="form-group">
                            <label for="contact-phone">Телефон:</label>
                            <input type="text" id="contact-phone" value="+38 (044) 390 79 79">
                        </div>
                        <div class="form-group">
                            <label for="contact-telegram">Телеграм-бот:</label>
                            <input type="text" id="contact-telegram" value="IDGroup Kyiv">
                        </div>
                        <div class="form-group">
                            <label for="contact-mobile">Мобільний телефон:</label>
                            <input type="text" id="contact-mobile" value="+380 (93) 434 70 42">
                        </div>
                    </div>
                </div>
                
                <div class="section-navigation">
                    <button class="nav-btn prev" data-section="location-section">
                        <i class="fas fa-arrow-left"></i> Назад до Розташування
                    </button>
                    <div></div>
                </div>
            </div>

            <!-- Кнопка сохранения -->
            <div class="admin-actions">
                <button id="save-changes" class="admin-button primary">
                    <i class="fas fa-save"></i> Зберегти всі зміни
                </button>
            </div>
        </div>
    </div>

    <!-- Индикатор автосохранения -->
    <div class="autosave-indicator">
        <i class="fas fa-save"></i> Автозбереження...
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        // Enhanced Admin Panel Functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Admin credentials (in a real application, this would be handled server-side)
            const adminUsername = 'MichBoutique_Admin';
            const adminPassword = 'P3ch3rsk_Ky1v_2025!';
            
            // DOM Elements
            const loginForm = document.getElementById('login-form');
            const adminLoginForm = document.getElementById('admin-login-form');
            const adminContent = document.getElementById('admin-content');
            const usernameInput = document.getElementById('admin-username');
            const passwordInput = document.getElementById('admin-password');
            const togglePasswordBtn = document.getElementById('toggle-password');
            const logoutBtn = document.getElementById('admin-logout');
            const saveChangesBtn = document.getElementById('save-changes');
            const langTabs = document.querySelectorAll('.lang-tab');
            const autosaveIndicator = document.querySelector('.autosave-indicator');
            const sectionNavBtns = document.querySelectorAll('.nav-btn');
            const aptSelectBtns = document.querySelectorAll('.apt-select-btn');
            
            // Current state
            let currentLang = 'uk';
            let currentSection = 'main-section';
            let translations = {};
            let isLoggedIn = false;
            
            // Check if user is already logged in
            checkLoginStatus();
            
            // Toggle password visibility
            if (togglePasswordBtn) {
                togglePasswordBtn.addEventListener('click', function() {
                    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                    passwordInput.setAttribute('type', type);
                    
                    // Toggle eye icon
                    const icon = togglePasswordBtn.querySelector('i');
                    icon.classList.toggle('fa-eye');
                    icon.classList.toggle('fa-eye-slash');
                });
            }
            
            // Login form submission
            if (loginForm) {
                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const username = usernameInput.value.trim();
                    const password = passwordInput.value;
                    
                    console.log(`Login attempt: Username=${username}, Password length: ${password.length}`);
                    
                    // Compare credentials (case-insensitive for username)
                    if (username.toLowerCase() === adminUsername.toLowerCase() && password === adminPassword) {
                        console.log('Login successful');
                        
                        // Save login status to localStorage
                        localStorage.setItem('adminLoggedIn', 'true');
                        
                        // Show admin content
                        showAdminContent();
                    } else {
                        console.log(`Login failed. Username: ${username}, Password length: ${password.length}`);
                        alert('Невірне ім\'я користувача або пароль. Спробуйте ще раз.');
                    }
                });
            }
            
            // Logout button
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function() {
                    // Clear login status
                    localStorage.removeItem('adminLoggedIn');
                    
                    // Show login form
                    showLoginForm();
                });
            }
            
            // Section navigation buttons
            sectionNavBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const sectionId = this.getAttribute('data-section');
                    
                    // Show section
                    showSection(sectionId);
                });
            });
            
            // Apartment selector buttons
            aptSelectBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const aptNum = this.getAttribute('data-apt');
                    
                    // Update active button
                    aptSelectBtns.forEach(aptBtn => {
                        aptBtn.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Show apartment content
                    showApartmentContent(aptNum);
                });
            });
            
            // Language tabs
            langTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    
                    // Update active tab
                    langTabs.forEach(langTab => {
                        langTab.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Update current language
                    currentLang = lang;
                    
                    // Update translations
                    updateTranslations();
                });
            });
            
            // Save changes button
            if (saveChangesBtn) {
                saveChangesBtn.addEventListener('click', function() {
                    // Save all changes
                    saveAllChanges();
                    
                    // Show autosave indicator
                    showAutosaveIndicator();
                });
            }
            
            // Add event listeners for form inputs to trigger autosave
            const formInputs = document.querySelectorAll('input, textarea, select');
            formInputs.forEach(input => {
                input.addEventListener('change', function() {
                    // Autosave after a short delay
                    setTimeout(function() {
                        saveAllChanges();
                        showAutosaveIndicator();
                    }, 1000);
                });
            });
            
            // Add tech item button
            const addTechBtn = document.getElementById('add-tech');
            if (addTechBtn) {
                addTechBtn.addEventListener('click', function() {
                    addTechItem();
                });
            }
            
            // Add material item button
            const addMaterialBtn = document.getElementById('add-material');
            if (addMaterialBtn) {
                addMaterialBtn.addEventListener('click', function() {
                    addMaterialItem();
                });
            }
            
            // Add file input event listeners
            const fileInputs = document.querySelectorAll('input[type="file"]');
            fileInputs.forEach(input => {
                input.addEventListener('change', function(e) {
                    handleFileUpload(e);
                });
            });
            
            // Functions
            
            // Check login status
            function checkLoginStatus() {
                const loggedIn = localStorage.getItem('adminLoggedIn') === 'true';
                
                if (loggedIn) {
                    showAdminContent();
                } else {
                    showLoginForm();
                }
            }
            
            // Show admin content
            function showAdminContent() {
                if (adminLoginForm) adminLoginForm.style.display = 'none';
                if (adminContent) adminContent.style.display = 'block';
                isLoggedIn = true;
                
                // Load saved data
                loadSavedData();
            }
            
            // Show login form
            function showLoginForm() {
                if (adminLoginForm) adminLoginForm.style.display = 'block';
                if (adminContent) adminContent.style.display = 'none';
                isLoggedIn = false;
            }
            
            // Show section
            function showSection(sectionId) {
                // Hide all sections
                const sections = document.querySelectorAll('.admin-section');
                sections.forEach(section => {
                    section.classList.remove('active-section');
                });
                
                // Show selected section
                const section = document.getElementById(sectionId);
                if (section) {
                    section.classList.add('active-section');
                    currentSection = sectionId;
                }
            }
            
            // Show apartment content
            function showApartmentContent(aptNum) {
                // Hide all apartment content
                const aptContents = document.querySelectorAll('.apartment-content');
                aptContents.forEach(content => {
                    content.classList.remove('active');
                });
                
                // Show selected apartment content
                const aptContent = document.querySelector(`.apt-${aptNum}`);
                if (aptContent) {
                    aptContent.classList.add('active');
                }
            }
            
            // Update translations
            function updateTranslations() {
                const translatableElements = document.querySelectorAll('[data-translate]');
                
                translatableElements.forEach(element => {
                    const key = element.id;
                    
                    // Save current value if it's the active language
                    if (translations[key] === undefined) {
                        translations[key] = {};
                    }
                    
                    if (currentLang === 'uk') {
                        // If switching to Ukrainian, save English value
                        if (element.value !== undefined) {
                            translations[key]['en'] = element.value;
                        } else if (element.textContent !== undefined) {
                            translations[key]['en'] = element.textContent;
                        }
                        
                        // Restore Ukrainian value if exists
                        if (translations[key]['uk'] !== undefined) {
                            if (element.value !== undefined) {
                                element.value = translations[key]['uk'];
                            } else if (element.textContent !== undefined) {
                                element.textContent = translations[key]['uk'];
                            }
                        }
                    } else {
                        // If switching to English, save Ukrainian value
                        if (element.value !== undefined) {
                            translations[key]['uk'] = element.value;
                        } else if (element.textContent !== undefined) {
                            translations[key]['uk'] = element.textContent;
                        }
                        
                        // Restore English value if exists
                        if (translations[key]['en'] !== undefined) {
                            if (element.value !== undefined) {
                                element.value = translations[key]['en'];
                            } else if (element.textContent !== undefined) {
                                element.textContent = translations[key]['en'];
                            }
                        }
                    }
                });
                
                // Save translations to localStorage
                localStorage.setItem('adminTranslations', JSON.stringify(translations));
            }
            
            // Save all changes
            function saveAllChanges() {
                // Save translations
                updateTranslations();
                
                // Save apartment visibility status
                const apartmentCheckboxes = document.querySelectorAll('.apartment-item input[type="checkbox"]');
                const apartmentStatus = {};
                
                apartmentCheckboxes.forEach(checkbox => {
                    apartmentStatus[checkbox.id] = {
                        visible: checkbox.checked,
                        status: document.getElementById('status' + checkbox.id.replace('apartment', '')).value
                    };
                });
                
                localStorage.setItem('apartmentStatus', JSON.stringify(apartmentStatus));
                
                // In a real application, this would send data to a server
                console.log('All changes saved');
            }
            
            // Load saved data
            function loadSavedData() {
                // Load translations
                const savedTranslations = localStorage.getItem('adminTranslations');
                if (savedTranslations) {
                    translations = JSON.parse(savedTranslations);
                }
                
                // Load apartment visibility status
                const savedApartmentStatus = localStorage.getItem('apartmentStatus');
                if (savedApartmentStatus) {
                    const apartmentStatus = JSON.parse(savedApartmentStatus);
                    
                    for (const id in apartmentStatus) {
                        const checkbox = document.getElementById(id);
                        if (checkbox) {
                            checkbox.checked = apartmentStatus[id].visible;
                        }
                        
                        const statusSelect = document.getElementById('status' + id.replace('apartment', ''));
                        if (statusSelect) {
                            statusSelect.value = apartmentStatus[id].status;
                        }
                    }
                }
            }
            
            // Show autosave indicator
            function showAutosaveIndicator() {
                autosaveIndicator.style.display = 'flex';
                
                // Hide after 2 seconds
                setTimeout(function() {
                    autosaveIndicator.style.display = 'none';
                }, 2000);
            }
            
            // Add tech item
            function addTechItem() {
                const techItems = document.getElementById('tech-items');
                const itemCount = techItems.children.length + 1;
                
                const techItem = document.createElement('div');
                techItem.className = 'tech-item';
                techItem.innerHTML = `
                    <div class="form-group">
                        <label for="tech-name-${itemCount}">Назва:</label>
                        <input type="text" id="tech-name-${itemCount}" data-translate value="">
                    </div>
                    <div class="form-group">
                        <label for="tech-desc-${itemCount}">Опис:</label>
                        <textarea id="tech-desc-${itemCount}" data-translate rows="3"></textarea>
                    </div>
                `;
                
                techItems.appendChild(techItem);
            }
            
            // Add material item
            function addMaterialItem() {
                const materialsItems = document.getElementById('materials-items');
                const itemCount = materialsItems.children.length + 1;
                
                const materialItem = document.createElement('div');
                materialItem.className = 'tech-item';
                materialItem.innerHTML = `
                    <div class="form-group">
                        <label for="material-name-${itemCount}">Назва:</label>
                        <input type="text" id="material-name-${itemCount}" data-translate value="">
                    </div>
                    <div class="form-group">
                        <label for="material-desc-${itemCount}">Опис:</label>
                        <textarea id="material-desc-${itemCount}" data-translate rows="3"></textarea>
                    </div>
                `;
                
                materialsItems.appendChild(materialItem);
            }
            
            // Handle file upload
            function handleFileUpload(event) {
                const file = event.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    // Create new media item
                    const mediaItem = document.createElement('div');
                    mediaItem.className = 'media-item';
                    
                    // Determine if it's an image or video
                    let mediaElement;
                    if (file.type.startsWith('image/')) {
                        mediaElement = document.createElement('img');
                        mediaElement.className = 'media-preview';
                        mediaElement.alt = file.name;
                    } else if (file.type.startsWith('video/')) {
                        mediaElement = document.createElement('video');
                        mediaElement.className = 'media-preview';
                        mediaElement.controls = true;
                    } else {
                        alert('Непідтримуваний тип файлу. Будь ласка, виберіть зображення або відео.');
                        return;
                    }
                    
                    mediaElement.src = e.target.result;
                    
                    // Create media actions
                    const mediaActions = document.createElement('div');
                    mediaActions.className = 'media-actions';
                    mediaActions.innerHTML = `
                        <button class="replace-btn"><i class="fas fa-sync-alt"></i> Замінити</button>
                        <button class="delete-btn"><i class="fas fa-trash"></i> Видалити</button>
                    `;
                    
                    // Add caption field for images
                    let captionField = '';
                    if (file.type.startsWith('image/')) {
                        const randomId = 'caption-' + Math.random().toString(36).substring(2, 9);
                        captionField = `
                            <div class="form-group">
                                <label for="${randomId}">Підпис:</label>
                                <input type="text" id="${randomId}" data-translate value="${file.name}">
                            </div>
                        `;
                    }
                    
                    // Append elements to media item
                    mediaItem.appendChild(mediaElement);
                    mediaItem.appendChild(mediaActions);
                    if (captionField) {
                        mediaItem.insertAdjacentHTML('beforeend', captionField);
                    }
                    
                    // Find the add-new element and insert the new media item before it
                    const addNew = event.target.closest('.add-new');
                    addNew.parentNode.insertBefore(mediaItem, addNew);
                    
                    // Add event listeners to new buttons
                    const replaceBtn = mediaItem.querySelector('.replace-btn');
                    const deleteBtn = mediaItem.querySelector('.delete-btn');
                    
                    replaceBtn.addEventListener('click', function() {
                        // Trigger file input click
                        event.target.click();
                    });
                    
                    deleteBtn.addEventListener('click', function() {
                        // Remove media item
                        mediaItem.remove();
                    });
                    
                    // Reset file input
                    event.target.value = '';
                };
                
                reader.readAsDataURL(file);
            }
        });
    </script>
</body>
</html>
